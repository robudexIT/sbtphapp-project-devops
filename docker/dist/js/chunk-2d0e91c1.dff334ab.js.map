{"version":3,"sources":["webpack:///./src/components/Management/GeneratedMetrics.vue","webpack:///./src/components/Management/data/GeneratedTagMetricsDataList.vue","webpack:///./src/components/Management/data/GeneratedTagMetricsDataList.vue?2357","webpack:///./src/components/Management/data/GeneratedCdrMetricsDataList.vue","webpack:///./src/components/Management/data/GeneratedCdrMetricsDataList.vue?22c1","webpack:///./src/components/Management/GeneratedMetrics.vue?4be1"],"names":["show","error","handleError","isLoading","class","exportMetrics","icon","theader","tableclass","metricsHeader","metricsGenerated","tableHeader","option_metrics","tdata","tableTagRecords","tableCdrRecords","optiondata","outSideTableData","dateTimeRange","grandTotalCounts","grandTotalDurations","data","index","key","item","i","getTotal","props","methods","total","filter","el","reduce","subtotal","nextVal","__exports__","name","extension","callcount_weight","total_answered","duration_weight","total_duration","c_percentage","d_percentage","total_percentage","components","GeneratedTagMetricsDataList","GeneratedCdrMetricsDataList","BaseContainer","FontAwesomeIcon","appName","this","$store","getters","getAppName","generateMetrics","querystring","window","location","search","substring","dispatch","sort_order","message","dataToBeExported","Jhxlsx","export","tableData","options","computed","getAutoLogoutStatus","created","watch","currentstatus","oldstatus","$router","replace","render"],"mappings":"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","file":"js/chunk-2d0e91c1.dff334ab.js","sourcesContent":["<template>\n   <base-dialog :show=\"!!error\" @close=\"handleError\">\n     <p>{{error}}</p>\n   </base-dialog>\n  <base-container v-if=\"isLoading\">\n      <base-dialog :show=\"isLoading\">\n        <base-spinner> <p>Fetching Data From the Database Please Wait....</p></base-spinner>\n      </base-dialog>\n  </base-container>  \n  <base-container v-else>\n     <button class=\"btn btn-primary h-25 p-1 w-100 \" @click=\"exportMetrics\">Export <font-awesome-icon icon=\"spinner\" />\n     </button>\n     <font-awesome-icon icon=\"coffee\"></font-awesome-icon>\n     <base-table theader=\"metricsHeader\" tableclass='metrics' :metricsHeader=\"metricsGenerated.tableHeader\">\n          <generated-tag-metrics-data-list v-if=\"option_metrics=='tag'\"  :tdata=\"metricsGenerated.tableTagRecords\"></generated-tag-metrics-data-list>\n          <generated-cdr-metrics-data-list v-else  :tdata=\"metricsGenerated.tableCdrRecords\" :optiondata=\"metricsGenerated.outSideTableData\"></generated-cdr-metrics-data-list>\n     </base-table>\n     <div v-if=\"option_metrics != 'tag'\">\n         <p>Date Range: {{dateTimeRange}}</p>\n          <p>Grand Total Counts: {{grandTotalCounts}}</p>\n         <p>Grand Total Call Duration(HH:MM:SS): {{grandTotalDurations}}</p>\n     </div> \n     \n  </base-container>\n     \n</template>\n\n\n<script>\n\nimport BaseContainer from '../layout/BaseContainer.vue'\nimport GeneratedTagMetricsDataList from './data/GeneratedTagMetricsDataList.vue'\nimport GeneratedCdrMetricsDataList  from './data/GeneratedCdrMetricsDataList.vue'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nexport default {\n  \n    components: {\n        GeneratedTagMetricsDataList,\n        GeneratedCdrMetricsDataList,\n        BaseContainer,\n        FontAwesomeIcon\n    },\n    props: ['sort_order','option_metrics'],\n    data(){\n        return {\n            error: null,\n            isLoading: false,\n            appName: this.$store.getters.getAppName\n        }\n    },\n    methods: {\n       async generateMetrics(){\n            //get option_metrics from the querystring and add metrics word to it \n            //and assign it to this.metricsHeader to get the assign table header\n\n            let querystring = window.location.search.substring(1)\n          \n            // this.metricsHeader = 'metrics_'+ this.option_metrics\n            try {\n               this.isLoading = true\n               await this.$store.dispatch('metrics/generateMetrics',{querystring,sort_order:this.sort_order, option_metrics:this.option_metrics})\n               this.isLoading = false\n            }catch(e){\n                this.error = e.message\n            }\n        },\n        exportMetrics(){\n            let dataToBeExported\n            if(this.option_metrics == 'tag'){\n                dataToBeExported = this.$store.getters['metrics/getTagExportData']\n            }else{\n                dataToBeExported = this.$store.getters['metrics/getCdrExportData']\n                 \n            }\n        //    console.log(dataToBeExported)  \n         window.Jhxlsx.export(dataToBeExported.tableData, dataToBeExported.options);\n            \n          \n        \n        },\n        handleError(){\n            this.error = null\n        }\n    },\n    computed:{\n            metricsGenerated(){\n                let  metricsGenerated\n                if(this.option_metrics == 'tag'){\n                     metricsGenerated = this.$store.getters['metrics/getTagMetricsGeneratedData']\n                }else if(this.option_metrics == 'callduration' || \n                         this.option_metrics =='callcounts'   ||\n                         this.option_metrics == 'blended'       \n                       ){\n                          metricsGenerated = this.$store.getters['metrics/getCdrMetricsGeneratedData']\n                          \n                }else{\n                    metricsGenerated = 'This Metrics is not available'\n                }\n              \n                return metricsGenerated\n            },\n            dateTimeRange(){\n                return this.$store.getters['metrics/getDateTimeRange']\n            }, \n            grandTotalCounts(){\n                return this.$store.getters['metrics/getGrandTotalCounts']\n            },\n            grandTotalDurations(){\n                return this.$store.getters['metrics/getGrandTotalDurations']\n            },\n             getAutoLogoutStatus(){\n                 return this.$store.getters['getAutoLogoutStatus']\n             }\n    },\n    created(){\n        this.$store.dispatch('checkIfCurrentLogin')\n        this.generateMetrics()\n\n    },\n    watch:{\n      getAutoLogoutStatus(currentstatus , oldstatus){\n            if(currentstatus && currentstatus !== oldstatus){\n            this.$router.replace('/'+this.appName+'/login')\n        }\n      }\n    }\n \n}\n</script>\n","<template>\n       <tr v-for=\"(data, index) in tdata\" :key=\"index\">\n          <td v-for=\"(item, i) in data\" :key=\"i\">{{item}}</td>\n          <td>{{getTotal(data)}}</td>\n       </tr>\n</template>\n\n\n<script>\n\nexport default {\n    props:['tdata'],\n    methods:{\n        getTotal(data){\n            let total = data.filter(el => {\n                if(typeof el === 'number'){\n                    return el\n                }\n            }).reduce((subtotal ,nextVal) => {\n                return subtotal + nextVal\n            },0)\n            return total\n        }\n    }\n}\n</script>","import { render } from \"./GeneratedTagMetricsDataList.vue?vue&type=template&id=24714f55\"\nimport script from \"./GeneratedTagMetricsDataList.vue?vue&type=script&lang=js\"\nexport * from \"./GeneratedTagMetricsDataList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/robudex/vueproject/sbtph_app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n       <tr v-for=\"(item, index) in tdata\" :key=\"index\">\n         <td>{{index+1}}</td>\n         <td>{{item.name}}</td>\n         <td>{{item.extension}}</td>\n         <td v-if=\"optiondata.callcount_weight != 0\">{{item.total_answered}}</td>\n         <td v-if=\"optiondata.duration_weight != 0\">{{item.total_duration}}</td>\n         <td v-if=\"optiondata.callcount_weight != 0\">{{item.c_percentage}}%</td>\n         <td v-if=\"optiondata.duration_weight != 0\">{{item.d_percentage}}%</td>\n         <td>{{item.total_percentage}}%</td>\n       </tr>\n</template>\n\n<script>\n\nexport default {\n    props:['tdata','optiondata'],\n   \n}\n</script>","import { render } from \"./GeneratedCdrMetricsDataList.vue?vue&type=template&id=899a4b1c\"\nimport script from \"./GeneratedCdrMetricsDataList.vue?vue&type=script&lang=js\"\nexport * from \"./GeneratedCdrMetricsDataList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/robudex/vueproject/sbtph_app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GeneratedMetrics.vue?vue&type=template&id=1ebe6533\"\nimport script from \"./GeneratedMetrics.vue?vue&type=script&lang=js\"\nexport * from \"./GeneratedMetrics.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/robudex/vueproject/sbtph_app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}