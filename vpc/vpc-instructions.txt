VPC Creatation
NOTE: To follow this tutorial, its recommended that you will create primaryVPC and backupVPC side by side

For us-east-1
vpcname: prmairyVPC
IP BLock: 192.168.0.0/16
Internet Gateway
IGW name: primary-IGW

Subnets:
 Public Subnets:
   subnet name: frontend-pubsub01
   ip block: 192.168.1.0/24
   az: us-east-1a
   Enable auto-assign public IPv4 address
   Enable resource name DNS A record on launch

   subnet name: backend-pubsub01
   ip block: 192.168.2.0/24
   az: us-east-1b
   Enable auto-assign public IPv4 address
   Enable resource name DNS A record on launch

 Private Subnets:
  subnet name: db-privsub01
  az: us-east-1c
  ip block: 192.168.50.0/24
   Enable auto-assign public IPv4 address (temporary only..remove after database installation)
   Enable resource name DNS A record on launch

 Security Group
  name: database-SG
      Desc: Allow mysql traffic from backend-SG
          mysql from backend-SG
          ssh from adminstrator IP
          all traffic from 172.16.50.0/24(database-subnet of backupVPC )


For us-east-2
vpcname: backupVPC
IP BLock: 192.168.0.0/16
Internet Gateway
IGW name: backup-IGW

Subnets:
 Public Subnets:
   subnet name: frontend-pubsub01
   ip block: 172.16.1.0/24
   az: us-east-2a
   Enable auto-assign public IPv4 address
   Enable resource name DNS A record on launch

   subnet name: backend-pubsub01
   ip block: 172.16.2.0/24
   az: us-east-2b
   Enable auto-assign public IPv4 address
   Enable resource name DNS A record on launch

 Private Subnets:
  subnet name: db-privsub01
  az: us-east-2c
  ip block: 172.16.50.0/24
   Enable auto-assign public IPv4 address (temporary only..remove after database installation)
   Enable resource name DNS A record on launch

 Security Group
  name: database-SG
      Desc: Allow mysql traffic from backend-SG
          mysql from backend-SG
          ssh from adminstrator IP
          all traffic from 192.168.50.0/24(database-subnet of primaryVPC )

Create VPC Peering Connnection between primaryVPC and backupVPC

  Create VPC Peering on primaryVPC region
  Name: primary-and-backup-vpc-peering-connection
  VPCID(Requester): primaryVPC
  Select another VPC to peer with:
    Account: My account 
    Region: Another Region (and select where backupVPC located)
    VPC ID(Accepter): backupVPC VPCID

  Goto backupVPC->Peering connection and accept the request


  #For primaryVPC 
  Route Tables
      Name:PublicRT
      assoc: 
        - frontend-pubsub01
        - backend-pubsub01
        - db-privsub01 (temporary only..remove after database installation and replication setup and add this to the MAIN ROUTE TABLE)
      routes:
        0.0.0.0/0 ---> backup-IGW
        172.16.50.0/24 ---> primary-and-backup-vpc-peering-connection (temporary only..remove after database installation and replication setup)
 

  #For backupVPC
  Route Tables
      Name:PublicRT
      assoc: 
        - frontend-pubsub01
        - backend-pubsub01
        - db-privsub01 (temporary only..remove after database installation and replication setup and add this to the MAIN ROUTE TABLE)
      routes:
        0.0.0.0/0 ---> backup-IGW
        192.168.50.0/24 ---> primary-and-backup-vpc-peering-connection (temporary only..remove after database installation and replication setup)       
        

#For primaryVPC and backupVPC
  Security Group
      name:frontend-SG
      Desc: Allow http traffic from outside world
      Inbound Rules:
          http from 0.0.0.0/0
          ssh from  adminstration IP


      name: backend-SG
      Desc: Allow http traffic from frontend-SG
      Inbound Rules:
          http from frontend-SG
          http from 0.0.0.0/0
          ssh from adminstrator IP

   
  #For primaryVPC
    Main Route Tables
    172.16.50.0/24 --> primary-and-backup-vpc-peering-connection

  #For backupVPC
   Main Route Tables
   192.168.50.0/24 --> primary-and-backup-vpc-peering-connection




   



